<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Be Still</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* All previous CSS styles remain exactly the same */
        /* Updated Light Mode Blue Theme */
        :root {
            --bg-color: #e6eaf0;
            --text-color: #3a4a5a;
            --highlight-color: #fafdff;
            --shadow-color: #cad0d9;
            --card-bg-color: #e6eaf0;
            --menu-bg-color: #e6eaf0;
            --menu-item-hover-bg: #d8dde4;
            --menu-header-color: #3a4a5a;
            --switch-bg-inactive: #cad0d9;
            --switch-bg-active: #7aa0c7;
            --switch-handle-bg: #ffffff;
            --faq-bg-color: #eff2f5;
            --faq-border-color: #d8dde4;
            --faq-hover-bg: #e6eaf0;
            --faq-text-color: #3a4a5a;
            --faq-header-color: #3a4a5a;
            --back-button-color: #7aa0c7;
            --back-button-hover-color: #6b90b5;
            --icon-color: #3a4a5a;
            --gradient-start: #e6eaf0;
            --gradient-end: #d8dde4;
        }

        /* All other CSS styles remain exactly the same */
    </style>
</head>
<body class="home-mode">
    <!-- All previous HTML content remains exactly the same -->
    <audio id="background-audio" src="ambient.mp3" loop></audio>

    <button id="menu-button" class="neumorphic-button">
        <div class="menu-icon"></div>
    </button>

    <!-- All other HTML elements remain exactly the same -->

    <script>
        // All previous JavaScript code remains exactly the same until the document click handler

        document.addEventListener('click', (e) => {
            // If clicking the refresh button, don't do anything
            if (e.target.closest('#refresh-button')) {
                return;
            }

            if (!initialInteractionDone) {
                initialInteractionDone = true;
                setControlsVisibility(true);
                if (playMusicPreference && backgroundAudio && backgroundAudio.paused) {
                    playAudio();
                }
                return;
            }

            if (controlsVisible) {
                const isControlElement = e.target.closest('#menu-button') ||
                    e.target.closest('#mode-switch-container') ||
                    (isMenuOpen && e.target.closest('#side-menu'));

                if (!isControlElement) {
                    if (isMenuOpen) {
                        toggleMenu();
                    }
                    setControlsVisibility(false);
                    initialInteractionDone = false;
                }
            }
        });

        // All remaining JavaScript code stays exactly the same
    </script>
</body>
</html>